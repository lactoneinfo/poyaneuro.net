---
layout: post
title:  "Jekyllを使ってサイトを作ってみた"
date:   2022-12-16 02:35
redate: 
category: others
icon: git
keywords: tag1, tag2
image: 
preview: 1
---


## はじめに

神経科学の話をし続けるブログをやってみたいと前々から思っていたが、既存のブログサービスだと

- サイトの上とか下に何かのロゴが強制で入る
- あんまり見たくなかったり多い量の広告が自動で表示される
- 私がやりたいと思っているサイト設計・デザインができない(できたとしても、有料)
  
といった点で、満足できなさそうな感じがしたので、自分で作ることに。幸運にもインターネットに強い友人に恵まれており、約1週間でサイトとしての最低限の体裁をととのえることができた。秋葉原で開発用PCを購入するところから手伝っていただき、感謝しかない。ありがとうございます。

<p style="margin-bottom: 8em">以下、ほとんど私向けの備忘録だが、開発環境とこれまでにやったことを簡単に振り返っておく。</p>

## 開発環境

Ubuntu 20.04 5  
VScode  
ruby 2.7.0p0  
Bundler 2.3.26   
jekyll 4.3.1

## やったこと

- 開発環境の構築

rubyのバージョン関係の問題でrbenvを入れたほうがいいかもという話もネットにはあるが、現状はデフォルトのrubyで動いている。

- jekyll のtheme を導入

[Jekyll Themes](http://jekyllthemes.org/) から探して、オープンソースの良いデザインのもの[Future Imperfect Theme](https://github.com/kaptn3/future-imperfect/)を見つけたのでこれを改造していくことに。美しいテーマをありがとう。 Спасибо, что предоставили нам прекрасную тему! <span style="color: gray; ">←ロシア語の良いフォントを知りたい</span>

- いろいろな改造
  
ロシア語表記になっているいろいろなところを日本語化、ブログの更新日時の記録機能、配色の変更(参考:[colormind](http://colormind.io/))、Twitterシェアボタンの設置、フォントの変更など。

### 現状の問題点

- フォントM PLUS 1pが汚くなる
  
[Google Fonts](https://fonts.google.com/)で探していて気に入ったので、M PLUS 1pを主に使っているが、20px以下あたりからで環境によってはシャギーと呼ばれるギザギザが発生して非常に見づらくなる！私のLinuxは大丈夫だったがWindowsでアクセスすると確認できた。解決方法として知られているのは、読んでいて気づかない程度にページ全体を傾けるというもので、CSSに

```css
transform: rotate(0.03deg);
```

を書けば良い。実行してみると本当に改善されたが、ページが横方向の幅を持ってしまったため、横スクロールができるようになってしまった。まあ横スクロールしなければよいのだけれど、ちょっと気持ち悪い感じはするので、なんとかしたい。

- リアルタイムでの更新ができない

記事の新規作成や更新時刻はシステム上では分刻みで記入できるようになっているが、jekyll themeの仕様で、未来の時刻は参照できないようになっている。これ自体は困らないのだけれど、例えば作業していて深夜2時に編集が終わったとして、素直にYYYY-MM-DD 02:00のように記入すると、localhostでは表示されるのに、Github Pagesに通すとなぜか記事が表示されなくなる。原因不明だが、おそらく、日本がGMT+9:00であるから、朝9時より前にその日付で記事を更新しようとすると、イギリス(ロシアかも)ではまだその日になっていないから、未来判定を受けるのだと思う。朝9時以降に更新すれば良いだけなのだけれど、気持ち悪くはある。

ちょっとした問題点は他にもたくさんあるが、あげるときりがない気がしてくるのでここでやめておく。

### 今後実装するもの

- KaTeXを読みこめるようにする  

これをしないと数式が書けないので最優先かも。

- サイトのアイコンを作る

今の謎のギター(バラライカ?)はこのtheme のデフォルトのものなので、何らかのオリジナルなものを用意したい。しかし書くものが思いつかない。どうしようかね〜

- カテゴリーの整理
  
今はその他>(本記事)のような二層構造で管理しているが、神経科学>(各記事)だとあまりにアレなので、某物理系サイトにならって三層構造にしたい。分野の分け方も考え中なので、意外とあとになるかもしれない。

- リンクをTwitterとかに貼るときに、プレビュー(?)が出るようにする

これどうやるのかわからないけどやりたい。

- ダークモードの実装

私自身が常時ダークモードなので実装したいとは思っているけど、javascriptを書かないといけなかったり、そもそもこのthemeの色の管理がどこで行われているのかを完全には把握できていないので、後になりそう。

- 検索エンジンに引っかかるようにいろいろな工夫(?)をする

独自ドメインで個人ブログをやるときの一番の課題らしい。私はあまりプレビューを気にしてはいないけど、ここで解説していることとドンピシャのことを調べてヒットしないのは嫌な感じがするので、なんとかしたい。

- タグ機能をつける

要るかわからないけどないよりはある方がよさそう。記事が増えてきたら考える。

## おわりに

まだまだ調整したいことはたくさんある(文字の間隔や大きさなど)が、サイトを凝ったものにするよりも記事を増やして習慣にするほうが大事なのでとりあえずこんなところにしてがんばろうと思う。

